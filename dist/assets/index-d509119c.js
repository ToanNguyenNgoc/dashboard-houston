import{r as c,w as d,x as g,c as h,j as t,q as x}from"./index-c60e490b.js";import{u as f}from"./useQuery-9354becc.js";function k({branchId:s,setBranchId:n}){var i;const[l,p]=c.useState(""),a=c.useRef(null),{data:r}=f({queryKey:["BRANCH_SELECT",l],queryFn:()=>d.branches({status:!0,search:l}),refetchOnWindowFocus:!1}),{data:o}=f({queryKey:[s],queryFn:()=>d.branchById(s),refetchOnWindowFocus:!1,enabled:!!s}),m=(r==null?void 0:r.data)??[],y=c.useCallback(g.debounce(e=>p(e),600),[]),v=e=>{n&&n(s===e?null:e)};return window.addEventListener("click",()=>{var e;return(e=a.current)==null?void 0:e.classList.remove("branch-show")}),h("div",{className:"select-cnt",children:[t("div",{onClick:e=>{var u;e.stopPropagation(),(u=a.current)==null||u.classList.toggle("branch-show")},children:t("input",{disabled:!0,value:((i=o==null?void 0:o.data)==null?void 0:i.name)??"",type:"text",className:"form-control form-control-solid"})}),h("div",{onClick:e=>e.stopPropagation(),ref:a,className:"branch-select_cnt",children:[t("input",{onChange:e=>y(e.target.value),type:"text",className:"form-control form-control-solid",placeholder:"Search..."}),t("div",{className:"list-cnt",children:t("ul",{children:m.map(e=>t("li",{children:t(x,{style:e.id===s?{backgroundColor:"var(--kt-gray-300)"}:{},title:e.name,variant:"text",color:"inherit",size:"large",onClick:()=>v(e.id)})},e.id))})})]})]})}export{k as B};
