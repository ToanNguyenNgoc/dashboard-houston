import{r as h,am as ue,au as V,c as S,j as c,av as Ze,aw as qe,a2 as Ot,af as Ae,ae as Ie,al as oe,ax as Ye,aj as D,ay as Ge,ap as ze,az as dt,T as Bt,aA as $t,aB as Ke,ag as q,ak as We,ao as X,aC as Xe,aD as Ht,ah as J,aE as ut,aF as Ut,aG as jt,a as H,q as j,s as pt,w as Z,ac as ht,B as Fe,A as Le,a3 as Vt,F as pe,I as we,P as Zt,y as qt}from"./index-867cb035.js";import{u as ft}from"./useMutation-bd49f009.js";import{u as mt}from"./useQuery-30d04bff.js";import{A as Yt,d as Gt}from"./Edit-06032644.js";import{o as Oe,c as Je,r as he,i as fe,a as me}from"./jsx-runtime_commonjs-proxy-74a7142e.js";import{d as Qe}from"./dayjs.min-40bcf6c4.js";import{B as Kt}from"./index-c7cdfd17.js";const Xt=o=>new Promise((n,e)=>{const t=new Image;t.addEventListener("load",()=>n(t)),t.addEventListener("error",r=>e(r)),t.setAttribute("crossOrigin","anonymous"),t.src=o}),gt=o=>o*Math.PI/180;function Jt(o,n,e){const t=gt(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*n),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*n)}}const Qt=async(o,n,e=0,t={horizontal:!1,vertical:!1})=>{const r=await Xt(o),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)return null;const s=gt(e),{width:l,height:d}=Jt(r.width,r.height,e);i.width=l,i.height=d,a.translate(l/2,d/2),a.rotate(s),a.scale(t.horizontal?-1:1,t.vertical?-1:1),a.translate(-r.width/2,-r.height/2),a.drawImage(r,0,0);const f=a.getImageData(n.x,n.y,n.width,n.height);return i.width=n.width,i.height=n.height,a.putImageData(f,0,0),new Promise((m,g)=>{i.toBlob(v=>{v.name="cropped.jpeg",m({file:v,url:URL.createObjectURL(v)})},"image/jpeg")})};function eo(o){const n=o.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}const to={disableDefaultClasses:!1},oo=h.createContext(to);function no(o){const{disableDefaultClasses:n}=h.useContext(oo);return e=>n?"":o(e)}const ro=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function io(o){const n=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(n)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:n}function ao(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const n=t=>o.ownerDocument.querySelector(`input[type="radio"]${t}`);let e=n(`[name="${o.name}"]:checked`);return e||(e=n(`[name="${o.name}"]`)),e!==o}function so(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||ao(o))}function co(o){const n=[],e=[];return Array.from(o.querySelectorAll(ro)).forEach((t,r)=>{const i=io(t);i===-1||!so(t)||(i===0?n.push(t):e.push({documentOrder:r,tabIndex:i,node:t}))}),e.sort((t,r)=>t.tabIndex===r.tabIndex?t.documentOrder-r.documentOrder:t.tabIndex-r.tabIndex).map(t=>t.node).concat(n)}function lo(){return!0}function uo(o){const{children:n,disableAutoFocus:e=!1,disableEnforceFocus:t=!1,disableRestoreFocus:r=!1,getTabbable:i=co,isEnabled:a=lo,open:s}=o,l=h.useRef(!1),d=h.useRef(null),f=h.useRef(null),m=h.useRef(null),g=h.useRef(null),v=h.useRef(!1),p=h.useRef(null),x=ue(n.ref,p),y=h.useRef(null);h.useEffect(()=>{!s||!p.current||(v.current=!e)},[e,s]),h.useEffect(()=>{if(!s||!p.current)return;const u=V(p.current);return p.current.contains(u.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),v.current&&p.current.focus()),()=>{r||(m.current&&m.current.focus&&(l.current=!0,m.current.focus()),m.current=null)}},[s]),h.useEffect(()=>{if(!s||!p.current)return;const u=V(p.current),w=_=>{const{current:k}=p;if(k!==null){if(!u.hasFocus()||t||!a()||l.current){l.current=!1;return}if(!k.contains(u.activeElement)){if(_&&g.current!==_.target||u.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let N=[];if((u.activeElement===d.current||u.activeElement===f.current)&&(N=i(p.current)),N.length>0){var T,F;const I=!!((T=y.current)!=null&&T.shiftKey&&((F=y.current)==null?void 0:F.key)==="Tab"),B=N[0],R=N[N.length-1];typeof B!="string"&&typeof R!="string"&&(I?R.focus():B.focus())}else k.focus()}}},E=_=>{y.current=_,!(t||!a()||_.key!=="Tab")&&u.activeElement===p.current&&_.shiftKey&&(l.current=!0,f.current&&f.current.focus())};u.addEventListener("focusin",w),u.addEventListener("keydown",E,!0);const M=setInterval(()=>{u.activeElement&&u.activeElement.tagName==="BODY"&&w(null)},50);return()=>{clearInterval(M),u.removeEventListener("focusin",w),u.removeEventListener("keydown",E,!0)}},[e,t,r,a,s,i]);const C=u=>{m.current===null&&(m.current=u.relatedTarget),v.current=!0,g.current=u.target;const w=n.props.onFocus;w&&w(u)},b=u=>{m.current===null&&(m.current=u.relatedTarget),v.current=!0};return S(h.Fragment,{children:[c("div",{tabIndex:s?0:-1,onFocus:b,ref:d,"data-testid":"sentinelStart"}),h.cloneElement(n,{ref:x,onFocus:C}),c("div",{tabIndex:s?0:-1,onFocus:b,ref:f,"data-testid":"sentinelEnd"})]})}function po(o){return typeof o=="function"?o():o}const ho=h.forwardRef(function(n,e){const{children:t,container:r,disablePortal:i=!1}=n,[a,s]=h.useState(null),l=ue(h.isValidElement(t)?t.ref:null,e);if(Ze(()=>{i||s(po(r)||document.body)},[r,i]),Ze(()=>{if(a&&!i)return qe(e,a),()=>{qe(e,null)}},[e,a,i]),i){if(h.isValidElement(t)){const d={ref:l};return h.cloneElement(t,d)}return c(h.Fragment,{children:t})}return c(h.Fragment,{children:a&&Ot.createPortal(t,a)})}),fo=ho;function mo(o){const n=V(o);return n.body===o?Oe(o).innerWidth>n.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function te(o,n){n?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function et(o){return parseInt(Oe(o).getComputedStyle(o).paddingRight,10)||0}function go(o){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,t=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return e||t}function tt(o,n,e,t,r){const i=[n,e,...t];[].forEach.call(o.children,a=>{const s=i.indexOf(a)===-1,l=!go(a);s&&l&&te(a,r)})}function ye(o,n){let e=-1;return o.some((t,r)=>n(t)?(e=r,!0):!1),e}function vo(o,n){const e=[],t=o.container;if(!n.disableScrollLock){if(mo(t)){const a=eo(V(t));e.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${et(t)+a}px`;const s=V(t).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{e.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${et(l)+a}px`})}let i;if(t.parentNode instanceof DocumentFragment)i=V(t).body;else{const a=t.parentElement,s=Oe(t);i=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:t}e.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{e.forEach(({value:i,el:a,property:s})=>{i?a.style.setProperty(s,i):a.style.removeProperty(s)})}}function bo(o){const n=[];return[].forEach.call(o.children,e=>{e.getAttribute("aria-hidden")==="true"&&n.push(e)}),n}class xo{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,e){let t=this.modals.indexOf(n);if(t!==-1)return t;t=this.modals.length,this.modals.push(n),n.modalRef&&te(n.modalRef,!1);const r=bo(e);tt(e,n.mount,n.modalRef,r,!0);const i=ye(this.containers,a=>a.container===e);return i!==-1?(this.containers[i].modals.push(n),t):(this.containers.push({modals:[n],container:e,restore:null,hiddenSiblings:r}),t)}mount(n,e){const t=ye(this.containers,i=>i.modals.indexOf(n)!==-1),r=this.containers[t];r.restore||(r.restore=vo(r,e))}remove(n,e=!0){const t=this.modals.indexOf(n);if(t===-1)return t;const r=ye(this.containers,a=>a.modals.indexOf(n)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(n),1),this.modals.splice(t,1),i.modals.length===0)i.restore&&i.restore(),n.modalRef&&te(n.modalRef,e),tt(i.container,n.mount,n.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&te(a.modalRef,!1)}return t}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function yo(o){return Ae("MuiModal",o)}Ie("MuiModal",["root","hidden","backdrop"]);const Co=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],wo=o=>{const{open:n,exited:e}=o;return ze({root:["root",!n&&e&&"hidden"],backdrop:["backdrop"]},no(yo))};function Eo(o){return typeof o=="function"?o():o}function _o(o){return o?o.props.hasOwnProperty("in"):!1}const Ro=new xo,So=h.forwardRef(function(n,e){var t,r;const{children:i,closeAfterTransition:a=!1,component:s,container:l,disableAutoFocus:d=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:m=!1,disablePortal:g=!1,disableRestoreFocus:v=!1,disableScrollLock:p=!1,hideBackdrop:x=!1,keepMounted:y=!1,manager:C=Ro,onBackdropClick:b,onClose:u,onKeyDown:w,open:E,onTransitionEnter:M,onTransitionExited:_,slotProps:k={},slots:T={}}=n,F=oe(n,Co),[N,I]=h.useState(!E),B=h.useRef({}),R=h.useRef(null),P=h.useRef(null),O=ue(P,e),L=_o(i),$=(t=n["aria-hidden"])!=null?t:!0,ne=()=>V(R.current),Y=()=>(B.current.modalRef=P.current,B.current.mountNode=R.current,B.current),G=()=>{C.mount(Y(),{disableScrollLock:p}),P.current&&(P.current.scrollTop=0)},K=Ye(()=>{const z=Eo(l)||ne().body;C.add(Y(),z),P.current&&G()}),ve=h.useCallback(()=>C.isTopModal(Y()),[C]),Tt=Ye(z=>{R.current=z,!(!z||!P.current)&&(E&&ve()?G():te(P.current,$))}),ee=h.useCallback(()=>{C.remove(Y(),$)},[C,$]);h.useEffect(()=>()=>{ee()},[ee]),h.useEffect(()=>{E?K():(!L||!a)&&ee()},[E,ee,L,a,K]);const be=D({},n,{closeAfterTransition:a,disableAutoFocus:d,disableEnforceFocus:f,disableEscapeKeyDown:m,disablePortal:g,disableRestoreFocus:v,disableScrollLock:p,exited:N,hideBackdrop:x,keepMounted:y}),je=wo(be),At=()=>{I(!1),M&&M()},It=()=>{I(!0),_&&_(),a&&ee()},zt=z=>{z.target===z.currentTarget&&(b&&b(z),u&&u(z,"backdropClick"))},Wt=z=>{w&&w(z),!(z.key!=="Escape"||!ve())&&(m||(z.stopPropagation(),u&&u(z,"escapeKeyDown")))},re={};i.props.tabIndex===void 0&&(re.tabIndex="-1"),L&&(re.onEnter=Je(At,i.props.onEnter),re.onExited=Je(It,i.props.onExited));const Ve=(r=s??T.root)!=null?r:"div",Ft=Ge({elementType:Ve,externalSlotProps:k.root,externalForwardedProps:F,additionalProps:{ref:O,role:"presentation",onKeyDown:Wt},className:je.root,ownerState:be}),xe=T.backdrop,Lt=Ge({elementType:xe,externalSlotProps:k.backdrop,additionalProps:{"aria-hidden":!0,onClick:zt,open:E},className:je.backdrop,ownerState:be});return!y&&!E&&(!L||N)?null:c(fo,{ref:Tt,container:l,disablePortal:g,children:S(Ve,D({},Ft,{children:[!x&&xe?c(xe,D({},Lt)):null,c(uo,{disableEnforceFocus:f,disableAutoFocus:d,disableRestoreFocus:v,isEnabled:ve,open:E,children:h.cloneElement(i,re)})]}))})}),Po=So,Do=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Mo={entering:{opacity:1},entered:{opacity:1}},ko=h.forwardRef(function(n,e){const t=dt(),r={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:d,onEnter:f,onEntered:m,onEntering:g,onExit:v,onExited:p,onExiting:x,style:y,timeout:C=r,TransitionComponent:b=Bt}=n,u=oe(n,Do),w=h.useRef(null),E=ue(w,s.ref,e),M=R=>P=>{if(R){const O=w.current;P===void 0?R(O):R(O,P)}},_=M(g),k=M((R,P)=>{$t(R);const O=Ke({style:y,timeout:C,easing:l},{mode:"enter"});R.style.webkitTransition=t.transitions.create("opacity",O),R.style.transition=t.transitions.create("opacity",O),f&&f(R,P)}),T=M(m),F=M(x),N=M(R=>{const P=Ke({style:y,timeout:C,easing:l},{mode:"exit"});R.style.webkitTransition=t.transitions.create("opacity",P),R.style.transition=t.transitions.create("opacity",P),v&&v(R)}),I=M(p);return c(b,D({appear:a,in:d,nodeRef:w,onEnter:k,onEntered:T,onEntering:_,onExit:N,onExited:I,onExiting:F,addEndListener:R=>{i&&i(w.current,R)},timeout:C},u,{children:(R,P)=>h.cloneElement(s,D({style:D({opacity:0,visibility:R==="exited"&&!d?"hidden":void 0},Mo[R],y,s.props.style),ref:E},P))}))}),vt=ko;function No(o){return Ae("MuiBackdrop",o)}Ie("MuiBackdrop",["root","invisible"]);const To=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ao=o=>{const{classes:n,invisible:e}=o;return ze({root:["root",e&&"invisible"]},No,n)},Io=q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:e}=o;return[n.root,e.invisible&&n.invisible]}})(({ownerState:o})=>D({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),zo=h.forwardRef(function(n,e){var t,r,i;const a=We({props:n,name:"MuiBackdrop"}),{children:s,className:l,component:d="div",components:f={},componentsProps:m={},invisible:g=!1,open:v,slotProps:p={},slots:x={},TransitionComponent:y=vt,transitionDuration:C}=a,b=oe(a,To),u=D({},a,{component:d,invisible:g}),w=Ao(u),E=(t=p.root)!=null?t:m.root;return c(y,D({in:v,timeout:C},b,{children:c(Io,D({"aria-hidden":!0},E,{as:(r=(i=x.root)!=null?i:f.Root)!=null?r:d,className:X(w.root,l,E==null?void 0:E.className),ownerState:D({},u,E==null?void 0:E.ownerState),classes:w,ref:e,children:s}))}))}),bt=zo,Wo=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],Fo=q("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:e}=o;return[n.root,!e.open&&e.exited&&n.hidden]}})(({theme:o,ownerState:n})=>D({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})),Lo=q(bt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,n)=>n.backdrop})({zIndex:-1}),Oo=h.forwardRef(function(n,e){var t,r,i,a,s,l;const d=We({name:"MuiModal",props:n}),{BackdropComponent:f=Lo,BackdropProps:m,classes:g,className:v,closeAfterTransition:p=!1,children:x,component:y,components:C={},componentsProps:b={},disableAutoFocus:u=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:E=!1,disablePortal:M=!1,disableRestoreFocus:_=!1,disableScrollLock:k=!1,hideBackdrop:T=!1,keepMounted:F=!1,slotProps:N,slots:I,theme:B}=d,R=oe(d,Wo),[P,O]=h.useState(!0),L={closeAfterTransition:p,disableAutoFocus:u,disableEnforceFocus:w,disableEscapeKeyDown:E,disablePortal:M,disableRestoreFocus:_,disableScrollLock:k,hideBackdrop:T,keepMounted:F},$=D({},d,L,{exited:P}),ne=(t=(r=I==null?void 0:I.root)!=null?r:C.Root)!=null?t:Fo,Y=(i=(a=I==null?void 0:I.backdrop)!=null?a:C.Backdrop)!=null?i:f,G=(s=N==null?void 0:N.root)!=null?s:b.root,K=(l=N==null?void 0:N.backdrop)!=null?l:b.backdrop;return c(Po,D({slots:{root:ne,backdrop:Y},slotProps:{root:()=>D({},Xe(G,$),!Ht(ne)&&{as:y,theme:B},{className:X(v,G==null?void 0:G.className,g==null?void 0:g.root,!$.open&&$.exited&&(g==null?void 0:g.hidden))}),backdrop:()=>D({},m,Xe(K,$),{className:X(K==null?void 0:K.className,g==null?void 0:g.backdrop)})},onTransitionEnter:()=>O(!1),onTransitionExited:()=>O(!0),ref:e},R,L,{children:x}))}),Bo=Oo;function $o(o){return Ae("MuiDialog",o)}const Ho=Ie("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ce=Ho,Uo=h.createContext({}),jo=Uo,Vo=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Zo=q(bt,{name:"MuiDialog",slot:"Backdrop",overrides:(o,n)=>n.backdrop})({zIndex:-1}),qo=o=>{const{classes:n,scroll:e,maxWidth:t,fullWidth:r,fullScreen:i}=o,a={root:["root"],container:["container",`scroll${J(e)}`],paper:["paper",`paperScroll${J(e)}`,`paperWidth${J(String(t))}`,r&&"paperFullWidth",i&&"paperFullScreen"]};return ze(a,$o,n)},Yo=q(Bo,{name:"MuiDialog",slot:"Root",overridesResolver:(o,n)=>n.root})({"@media print":{position:"absolute !important"}}),Go=q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,n)=>{const{ownerState:e}=o;return[n.container,n[`scroll${J(e.scroll)}`]]}})(({ownerState:o})=>D({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Ko=q(ut,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,n)=>{const{ownerState:e}=o;return[n.paper,n[`scrollPaper${J(e.scroll)}`],n[`paperWidth${J(String(e.maxWidth))}`],e.fullWidth&&n.paperFullWidth,e.fullScreen&&n.paperFullScreen]}})(({theme:o,ownerState:n})=>D({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},n.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},n.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},n.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`${o.breakpoints.values.xs}${o.breakpoints.unit}`,[`&.${Ce.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&n.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[n.maxWidth]}${o.breakpoints.unit}`,[`&.${Ce.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[n.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Ce.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Xo=h.forwardRef(function(n,e){const t=We({props:n,name:"MuiDialog"}),r=dt(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:d,children:f,className:m,disableEscapeKeyDown:g=!1,fullScreen:v=!1,fullWidth:p=!1,maxWidth:x="sm",onBackdropClick:y,onClose:C,open:b,PaperComponent:u=ut,PaperProps:w={},scroll:E="paper",TransitionComponent:M=vt,transitionDuration:_=i,TransitionProps:k}=t,T=oe(t,Vo),F=D({},t,{disableEscapeKeyDown:g,fullScreen:v,fullWidth:p,maxWidth:x,scroll:E}),N=qo(F),I=h.useRef(),B=L=>{I.current=L.target===L.currentTarget},R=L=>{I.current&&(I.current=null,y&&y(L),C&&C(L,"backdropClick"))},P=Ut(s),O=h.useMemo(()=>({titleId:P}),[P]);return c(Yo,D({className:X(N.root,m),closeAfterTransition:!0,components:{Backdrop:Zo},componentsProps:{backdrop:D({transitionDuration:_,as:l},d)},disableEscapeKeyDown:g,onClose:C,open:b,ref:e,onClick:R,ownerState:F},T,{children:c(M,D({appear:!0,in:b,timeout:_,role:"presentation"},k,{children:c(Go,{className:X(N.container),onMouseDown:B,ownerState:F,children:c(Ko,D({as:u,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":P},w,{className:X(N.paper,w.className),ownerState:F,children:c(jo.Provider,{value:O,children:f})}))})}))}))}),xt=Xo;var Be={},Jo=fe;Object.defineProperty(Be,"__esModule",{value:!0});var yt=Be.default=void 0,Qo=Jo(he()),en=me,tn=(0,Qo.default)((0,en.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");yt=Be.default=tn;var $e={},on=fe;Object.defineProperty($e,"__esModule",{value:!0});var Ct=$e.default=void 0,nn=on(he()),rn=me,an=(0,nn.default)((0,rn.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Ct=$e.default=an;var He={},sn=fe;Object.defineProperty(He,"__esModule",{value:!0});var wt=He.default=void 0,cn=sn(he()),ln=me,dn=(0,cn.default)((0,ln.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");wt=He.default=dn;var Ue={},un=fe;Object.defineProperty(Ue,"__esModule",{value:!0});var Et=Ue.default=void 0,pn=un(he()),hn=me,fn=(0,pn.default)((0,hn.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");Et=Ue.default=fn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ee=function(o,n){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Ee(o,n)};function mn(o,n){Ee(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var A=function(){return A=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},A.apply(this,arguments)},_e={},gn={get exports(){return _e},set exports(o){_e=o}},ot=!1,U,Re,Se,ce,le,_t,de,Pe,De,Me,Rt,ke,Ne,St,Pt;function W(){if(!ot){ot=!0;var o=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(o),e=/(Mac OS X)|(Windows)|(Linux)/.exec(o);if(ke=/\b(iPhone|iP[ao]d)/.exec(o),Ne=/\b(iP[ao]d)/.exec(o),Me=/Android/i.exec(o),St=/FBAN\/\w+;/i.exec(o),Pt=/Mobile/i.exec(o),Rt=!!/Win64/.exec(o),n){U=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,U&&document&&document.documentMode&&(U=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(o);_t=t?parseFloat(t[1])+4:U,Re=n[2]?parseFloat(n[2]):NaN,Se=n[3]?parseFloat(n[3]):NaN,ce=n[4]?parseFloat(n[4]):NaN,ce?(n=/(?:Chrome\/(\d+\.\d+))/.exec(o),le=n&&n[1]?parseFloat(n[1]):NaN):le=NaN}else U=Re=Se=le=ce=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(o);de=r?parseFloat(r[1].replace("_",".")):!0}else de=!1;Pe=!!e[2],De=!!e[3]}else de=Pe=De=!1}}var Te={ie:function(){return W()||U},ieCompatibilityMode:function(){return W()||_t>U},ie64:function(){return Te.ie()&&Rt},firefox:function(){return W()||Re},opera:function(){return W()||Se},webkit:function(){return W()||ce},safari:function(){return Te.webkit()},chrome:function(){return W()||le},windows:function(){return W()||Pe},osx:function(){return W()||de},linux:function(){return W()||De},iphone:function(){return W()||ke},mobile:function(){return W()||ke||Ne||Me||Pt},nativeApp:function(){return W()||St},android:function(){return W()||Me},ipad:function(){return W()||Ne}},vn=Te,ie=!!(typeof window<"u"&&window.document&&window.document.createElement),bn={canUseDOM:ie,canUseWorkers:typeof Worker<"u",canUseEventListeners:ie&&!!(window.addEventListener||window.attachEvent),canUseViewport:ie&&!!window.screen,isInWorker:!ie},xn=bn,Dt=xn,Mt;Dt.canUseDOM&&(Mt=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function yn(o,n){if(!Dt.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+o,t=e in document;if(!t){var r=document.createElement("div");r.setAttribute(e,"return;"),t=typeof r[e]=="function"}return!t&&Mt&&o==="wheel"&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var Cn=yn,wn=vn,En=Cn,nt=10,rt=40,it=800;function kt(o){var n=0,e=0,t=0,r=0;return"detail"in o&&(e=o.detail),"wheelDelta"in o&&(e=-o.wheelDelta/120),"wheelDeltaY"in o&&(e=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(n=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(n=e,e=0),t=n*nt,r=e*nt,"deltaY"in o&&(r=o.deltaY),"deltaX"in o&&(t=o.deltaX),(t||r)&&o.deltaMode&&(o.deltaMode==1?(t*=rt,r*=rt):(t*=it,r*=it)),t&&!n&&(n=t<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:n,spinY:e,pixelX:t,pixelY:r}}kt.getEventType=function(){return wn.firefox()?"DOMMouseScroll":En("wheel")?"wheel":"mousewheel"};var _n=kt;(function(o){o.exports=_n})(gn);const Rn=jt(_e);function Sn(o,n,e,t,r,i){i===void 0&&(i=0);var a=Q(o,n,i),s=a.width,l=a.height,d=Math.min(s,e),f=Math.min(l,t);return d>f*r?{width:f*r,height:f}:{width:d,height:d/r}}function Pn(o){return o.width>o.height?o.width/o.naturalWidth:o.height/o.naturalHeight}function ae(o,n,e,t,r){r===void 0&&(r=0);var i=Q(n.width,n.height,r),a=i.width,s=i.height;return{x:at(o.x,a,e.width,t),y:at(o.y,s,e.height,t)}}function at(o,n,e,t){var r=n*t/2-e/2;return ge(o,-r,r)}function st(o,n){return Math.sqrt(Math.pow(o.y-n.y,2)+Math.pow(o.x-n.x,2))}function ct(o,n){return Math.atan2(n.y-o.y,n.x-o.x)*180/Math.PI}function Dn(o,n,e,t,r,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var s=a?Mn:kn,l=Q(n.width,n.height,i),d=Q(n.naturalWidth,n.naturalHeight,i),f={x:s(100,((l.width-e.width/r)/2-o.x/r)/l.width*100),y:s(100,((l.height-e.height/r)/2-o.y/r)/l.height*100),width:s(100,e.width/l.width*100/r),height:s(100,e.height/l.height*100/r)},m=Math.round(s(d.width,f.width*d.width/100)),g=Math.round(s(d.height,f.height*d.height/100)),v=d.width>=d.height*t,p=v?{width:Math.round(g*t),height:g}:{width:m,height:Math.round(m/t)},x=A(A({},p),{x:Math.round(s(d.width-p.width,f.x*d.width/100)),y:Math.round(s(d.height-p.height,f.y*d.height/100))});return{croppedAreaPercentages:f,croppedAreaPixels:x}}function Mn(o,n){return Math.min(o,Math.max(0,n))}function kn(o,n){return n}function Nn(o,n,e,t,r,i){var a=Q(n.width,n.height,e),s=ge(t.width/a.width*(100/o.width),r,i),l={x:s*a.width/2-t.width/2-a.width*s*(o.x/100),y:s*a.height/2-t.height/2-a.height*s*(o.y/100)};return{crop:l,zoom:s}}function Tn(o,n,e){var t=Pn(n);return e.height>e.width?e.height/(o.height*t):e.width/(o.width*t)}function An(o,n,e,t,r,i){e===void 0&&(e=0);var a=Q(n.naturalWidth,n.naturalHeight,e),s=ge(Tn(o,n,t),r,i),l=t.height>t.width?t.height/o.height:t.width/o.width,d={x:((a.width-o.width)/2-o.x)*l,y:((a.height-o.height)/2-o.y)*l};return{crop:d,zoom:s}}function lt(o,n){return{x:(n.x+o.x)/2,y:(n.y+o.y)/2}}function In(o){return o*Math.PI/180}function Q(o,n,e){var t=In(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*n),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*n)}}function ge(o,n,e){return Math.min(Math.max(o,n),e)}function se(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return o.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var zn=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Wn=1,Fn=3,Ln=function(o){mn(n,o);function n(){var e=o!==null&&o.apply(this,arguments)||this;return e.imageRef=H.createRef(),e.videoRef=H.createRef(),e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var t=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(t){t=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.emitCropData(),e.setInitialCrop(t)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var r=Nn(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),i=r.crop,a=r.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var s=An(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),i=s.crop,a=s.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var t,r,i,a,s,l,d=e.imageRef.current||e.videoRef.current;if(d&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect();var f=e.containerRect.width/e.containerRect.height,m=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,g=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,v=d.offsetWidth<m||d.offsetHeight<g,p=m/g,x=void 0;if(v)switch(e.props.objectFit){default:case"contain":x=f>p?{width:e.containerRect.height*p,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/p};break;case"horizontal-cover":x={width:e.containerRect.width,height:e.containerRect.width/p};break;case"vertical-cover":x={width:e.containerRect.height*p,height:e.containerRect.height};break;case"auto-cover":x=m>g?{width:e.containerRect.width,height:e.containerRect.width/p}:{width:e.containerRect.height*p,height:e.containerRect.height};break}else x={width:d.offsetWidth,height:d.offsetHeight};e.mediaSize=A(A({},x),{naturalWidth:m,naturalHeight:g}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var y=e.props.cropSize?e.props.cropSize:Sn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==y.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==y.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(y),e.setState({cropSize:y},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(y),y}},e.onMouseDown=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.onDragStart(n.getMousePoint(t)))},e.onMouseMove=function(t){return e.onDrag(n.getMousePoint(t))},e.onTouchStart=function(t){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(t))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(n.getTouchPoint(t.touches[0]))))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(n.getTouchPoint(t.touches[0]))},e.onGestureStart=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(t){if(t.preventDefault(),!e.isTouching){var r=n.getMousePoint(t),i=e.gestureZoomStart-1+t.scale;if(e.setNewZoom(i,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+t.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(t){e.cleanEvents()},e.onDragStart=function(t){var r,i,a=t.x,s=t.y;e.dragStartPosition={x:a,y:s},e.dragStartCrop=A({},e.props.crop),(i=(r=e.props).onInteractionStart)===null||i===void 0||i.call(r)},e.onDrag=function(t){var r=t.x,i=t.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||i===void 0)){var a=r-e.dragStartPosition.x,s=i-e.dragStartPosition.y,l={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+s},d=e.props.restrictPosition?ae(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(d)}}))},e.onDragStopped=function(){var t,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(t=e.props).onInteractionEnd)===null||r===void 0||r.call(t)},e.onWheel=function(t){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var r=n.getMousePoint(t),i=Rn(t).pixelY,a=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(a,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},e.getPointOnContainer=function(t){var r=t.x,i=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(r-e.containerRect.left),y:e.containerRect.height/2-(i-e.containerRect.top)}},e.getPointOnMedia=function(t){var r=t.x,i=t.y,a=e.props,s=a.crop,l=a.zoom;return{x:(r+s.x)/l,y:(i+s.y)/l}},e.setNewZoom=function(t,r,i){var a=i===void 0?{}:i,s=a.shouldUpdatePosition,l=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var d=ge(t,e.props.minZoom,e.props.maxZoom);if(l){var f=e.getPointOnContainer(r),m=e.getPointOnMedia(f),g={x:m.x*d-f.x,y:m.y*d-f.y},v=e.props.restrictPosition?ae(g,e.mediaSize,e.state.cropSize,d,e.props.rotation):g;e.props.onCropChange(v)}e.props.onZoomChange(d)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?ae(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Dn(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,i=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,i=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var t=e.props.restrictPosition?ae(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(t),e.emitCropData()}},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zn,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},n.prototype.componentWillUnmount=function(){var e,t;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((t=this.styleRef.parentNode)===null||t===void 0||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var t,r,i,a,s,l,d,f,m;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((d=e.crop)===null||d===void 0?void 0:d.y)!==((f=this.props.crop)===null||f===void 0?void 0:f.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load())},n.prototype.getAspect=function(){var e=this.props,t=e.cropSize,r=e.aspect;return t?t.width/t.height:r},n.prototype.onPinchStart=function(e){var t=n.getTouchPoint(e.touches[0]),r=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=st(t,r),this.lastPinchRotation=ct(t,r),this.onDragStart(lt(t,r))},n.prototype.onPinchMove=function(e){var t=this;if(!(!this.currentDoc||!this.currentWindow)){var r=n.getTouchPoint(e.touches[0]),i=n.getTouchPoint(e.touches[1]),a=lt(r,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=st(r,i),l=t.props.zoom*(s/t.lastPinchDistance);t.setNewZoom(l,a,{shouldUpdatePosition:!1}),t.lastPinchDistance=s;var d=ct(r,i),f=t.props.rotation+(d-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(f),t.lastPinchRotation=d})}},n.prototype.render=function(){var e=this,t=this.props,r=t.image,i=t.video,a=t.mediaProps,s=t.transform,l=t.crop,d=l.x,f=l.y,m=t.rotation,g=t.zoom,v=t.cropShape,p=t.showGrid,x=t.style,y=x.containerStyle,C=x.cropAreaStyle,b=x.mediaStyle,u=t.classes,w=u.containerClassName,E=u.cropAreaClassName,M=u.mediaClassName,_=t.objectFit;return H.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(T){return e.containerRef=T},"data-testid":"container",style:y,className:se("reactEasyCrop_Container",w)},r?H.createElement("img",A({alt:"",className:se("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),M)},a,{src:r,ref:this.imageRef,style:A(A({},b),{transform:s||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(g,")")}),onLoad:this.onMediaLoad})):i&&H.createElement("video",A({autoPlay:!0,loop:!0,muted:!0,className:se("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),M)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:A(A({},b),{transform:s||"translate(".concat(d,"px, ").concat(f,"px) rotate(").concat(m,"deg) scale(").concat(g,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(k){return H.createElement("source",A({key:k.src},k))})),this.state.cropSize&&H.createElement("div",{style:A(A({},C),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:se("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",p&&"reactEasyCrop_CropAreaGrid",E)}))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Fn,minZoom:Wn,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(H.Component);const On=[{name:"1 : 1",value:1/1},{name:"5 : 4",value:5/4},{name:"4 : 3",value:4/3},{name:"3 : 2",value:3/2},{name:"5 : 3",value:5/3},{name:"16 : 9",value:16/9},{name:"2 : 1",value:2/1}],Bn=({image:o,onCropDone:n,onCropCancel:e,load:t,onImageSelected:r})=>{const[i,a]=h.useState({x:0,y:0}),[s,l]=h.useState(1),[d,f]=h.useState(null),[m,g]=h.useState(4/3),v=h.useRef(null),p=b=>{if(b.target.files&&b.target.files.length>0){const u=new FileReader;u.readAsDataURL(b.target.files[0]),u.onload=function(w){r(u.result)}}},x=()=>{var b;(b=v.current)==null||b.click()},y=(b,u)=>{f(u)},C=b=>{g(b)};return S("div",{className:"cropper",children:[c(Ln,{image:o,aspect:m,crop:i,zoom:s,onCropChange:a,onZoomChange:l,onCropComplete:y,style:{containerStyle:{width:"100%",height:"80%",backgroundColor:"#fff"}}}),S("div",{className:"action-btns",children:[c("ul",{className:"spec_list",children:On.map(b=>c("li",{className:"spec_list_item",children:c(j,{title:b.name,size:"medium",color:m===b.value?"success":"inherit",variant:m===b.value?"contained":"text",onClick:()=>C(b.value)})},b.name))}),S("div",{className:"action-btns-bot",children:[S("div",{className:"bot_item",children:[c("input",{type:"file",accept:"image/*",ref:v,onChange:p,style:{display:"none"}}),c(j,{icon:c(yt,{}),title:"Open file",onClick:x,size:"large",variant:"outlined",color:"inherit"})]}),S("div",{className:"bot_item",children:[c(j,{size:"large",title:"Cancel",color:"error",variant:"text",onClick:e}),c(j,{size:"large",title:"Crop & Save",color:"success",load:t,onClick:()=>{n(d)}})]})]})]})]})};function $n({setOpen:o,onChange:n,original_url:e}){const[t,r]=h.useState(e||"");console.log(t);const[i,a]=h.useState("choose-img"),[s,l]=h.useState(""),d=p=>{r(p),a("crop-img")},{handle:f,result:m}=pt();return c("div",{className:"crop_img_container",children:c(Bn,{image:t,onCropDone:async p=>{const x=document.createElement("canvas");x.width=p.width,x.height=p.height;const y=x.getContext("2d");let C=new Image;C.src=t,C.onload=function(){y==null||y.drawImage(C,p.x,p.y,p.width,p.height,0,0,p.width,p.height);const E=x.toDataURL("image/jpeg");l(E),a("img-cropped")};const{file:b,url:u}=await Qt(t,p);let w=new FormData;w.append("file",b),f({handleFn:()=>Z.uploadImage(w),callback:E=>{o&&o(!1),n&&n(E)}})},onCropCancel:()=>{o&&o(!1)},onImageSelected:d,load:m.load})})}function Nt(o){const n=ht(),[e]=Fe(u=>[u.isSPA]),{open:t,setOpen:r,id:i}=o,{branch:a}=h.useContext(Le),[s,l]=h.useState(a.id),[d,f]=h.useState({media_id:null,original_url:null}),{handleSubmit:m,register:g,reset:v,setValue:p}=Vt({defaultValues:{villa_cate_name:"",description:""}});let x="post";i&&(x="put"),mt({queryKey:["CATEGORY",i],queryFn:()=>Z.villaCateById(i??0),enabled:!!(i&&t),refetchOnWindowFocus:!1,onSuccess:u=>{var w,E,M,_,k,T;p("villa_cate_name",(w=u==null?void 0:u.data)==null?void 0:w.villa_cate_name),p("description",(E=u==null?void 0:u.data)==null?void 0:E.description),f({media_id:(_=(M=u==null?void 0:u.data)==null?void 0:M.villa_cate_image)==null?void 0:_.media_id,original_url:(T=(k=u==null?void 0:u.data)==null?void 0:k.villa_cate_image)==null?void 0:T.original_url})}});const{mutate:y,isLoading:C}=ft({mutationKey:"",mutationFn:u=>x==="post"?Z.postVillaCate(u):Z.putVillaCate(i??0,u),onSuccess:()=>{n.invalidateQueries({queryKey:["VILLA_CATE",a.id]}),r(!1),v()}}),b=async u=>{y({...u,branch_id:s,media_id:d.media_id})};return c(xt,{open:t,onClose:()=>r(!1),children:S("div",{className:"villa_cate_form",children:[c("div",{className:"form_cnt-header",children:x==="post"?"Create new category":"Update Category"}),S("div",{className:"form_cnt-body",children:[S("div",{className:"body_img_cnt",children:[c("img",{src:(d==null?void 0:d.original_url)||"",alt:""}),c("div",{className:"change_img",children:c(Hn,{setImage:f,image:d})})]}),c("div",{className:"body_desc_cnt",children:S("form",{onSubmit:m(b),children:[S("div",{children:[e&&S("div",{className:"form_column",children:[c("label",{className:"form-label required",children:"Branch"}),c(Kt,{})]}),S("div",{className:"form_column",children:[c("label",{className:"form-label required",children:"Category name"}),c("input",{type:"text",className:"form-control form-control-solid",...g("villa_cate_name",{required:!0})})]}),S("div",{className:"form_column",children:[c("label",{className:"form-label required",children:"Description"}),c("input",{type:"text",className:"form-control form-control-solid",...g("description",{required:!0})})]})]}),S("div",{className:"form_bottom",children:[c(j,{title:"Cancel",color:"error",variant:"text",onClick:()=>r(!1)}),c(j,{title:"Save",type:"submit",load:C})]})]})})]})]})})}const Hn=o=>{const{setImage:n,image:e}=o,[t,r]=h.useState(!1);return S(pe,{children:[c(we,{onClick:()=>r(!0),style:{backgroundColor:"var(--kt-white)"},children:c(Et,{})}),c(xt,{open:t,onClose:()=>r(!1),children:c("div",{className:"villa_cate_crop_img",children:c($n,{setOpen:r,onChange:a=>{var s,l;n({media_id:(s=a==null?void 0:a.data)==null?void 0:s.id,original_url:(l=a==null?void 0:a.data)==null?void 0:l.original_url})},original_url:e.original_url??""})})})]})};function Jn(){var r;const{branch:o}=h.useContext(Le),[n]=Fe(i=>[i.isSPA]);let e;n||(e=o==null?void 0:o.id);const{data:t}=mt({queryKey:["VILLA_CATE",o.id],queryFn:()=>Z.villaCates({branch_id:e}),refetchOnWindowFocus:!1});return S(pe,{children:[c(Zt,{children:"Villa category"}),S("div",{className:"card card-account card-villa-cate",children:[c("div",{className:"card-header border-0 pt-5",children:c("div",{className:"card-toolbar",children:c(Un,{})})}),c("div",{className:"card-body py-3",children:c("div",{className:"table-responsive",children:S("table",{className:"table align-middle gs-0 gy-4",children:[c("thead",{children:S("tr",{className:"fw-bold text-muted bg-light",children:[c("th",{className:"min-w-100px",children:"Icon"}),c("th",{className:"ps-4 min-w-200px rounded-start",children:"Category name"}),n&&c("th",{className:"ps-4 min-w-200px rounded-start",children:"Branch name"}),c("th",{className:"min-w-80px",children:"Status"}),c("th",{className:"min-w-200px",children:"Description"}),c("th",{className:"min-w-150px",children:"Created at"}),c("th",{className:"min-w-150px",children:"Updated at"}),c("th",{className:"min-w-100px"})]})}),c("tbody",{children:(r=t==null?void 0:t.data)==null?void 0:r.map((i,a)=>c(jn,{item:i},a))})]})})})]})]})}const Un=()=>{const[o,n]=h.useState(!1);return S(pe,{children:[c(j,{title:"Create new category",variant:"contained",onClick:()=>n(!0)}),c(Nt,{open:o,setOpen:n})]})},jn=({item:o})=>{var g,v;const{branch:n}=h.useContext(Le),e=ht(),[t]=Fe(p=>[p.isSPA]),[r,i]=h.useState(!1),{handle:a}=pt(),[s,l]=h.useState(o.status),d=p=>{a({handleFn:()=>Z.putVillaCate(o.id,{status:p.target.checked})}),l(p.target.checked)},{isLoading:f,mutate:m}=ft({mutationKey:["DELETE_CATE",o.id],mutationFn:()=>Z.deleteVillaCate(o.id),onSuccess:()=>{e.invalidateQueries({queryKey:["VILLA_CATE",n.id]})}});return S(pe,{children:[S("tr",{children:[c("td",{children:c("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:c(Yt,{alt:"",src:((g=o.villa_cate_image)==null?void 0:g.original_url)??""})})}),c("td",{children:c("div",{className:"d-flex align-items-center",children:c("div",{className:"d-flex justify-content-start flex-column",children:c("span",{className:"text-dark fw-bold text-hover-primary mb-1 fs-6",children:o.villa_cate_name})})})}),t&&c("td",{children:c("div",{className:"d-flex align-items-center",children:c("div",{className:"d-flex justify-content-start flex-column",children:c("span",{className:"text-dark fw-bold  mb-1 fs-6",children:(v=o.branch)==null?void 0:v.name})})})}),c("td",{children:c("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:c(qt,{onChange:d,checked:s})})}),c("td",{children:c("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:o.description})}),c("td",{children:c("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:Qe(o.created_at).format("DD/MM/YYYY HH:mm")})}),c("td",{children:c("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:Qe(o.updated_at).format("DD/MM/YYYY HH:mm")})}),S("td",{children:[c(we,{size:"small",style:{backgroundColor:"var(--kt-gray-200)"},onClick:()=>i(!0),children:c(Gt,{color:"success"})}),c(we,{disabled:f,size:"small",style:{backgroundColor:"var(--kt-gray-200)",marginLeft:"8px"},onClick:()=>m(),children:f?c(wt,{color:"error"}):c(Ct,{color:"error"})})]})]}),c(Nt,{open:r,setOpen:i,id:o.id})]})};export{Jn as default};
